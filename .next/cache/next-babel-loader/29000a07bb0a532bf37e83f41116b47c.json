{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'https://api.themoviedb.org/3/',\n      API_KEY = '6b7007b9ce50c7ac58bb264563355724';\n\nconst fetchMoviesByFilter = async (page = 1, filter = 'popular') => {\n  try {\n    const {\n      data\n    } = await axios.get(`${API_URL}${adjustUrlForFilters(filter)}`, {\n      params: {\n        api_key: API_KEY,\n        page\n      }\n    });\n    return {\n      data: data.results,\n      numOfPages: data.total_pages\n    };\n  } catch (err) {\n    throw new Error(err[0]);\n  }\n};\n\nconst fetchMoviesByKeyword = async query => {\n  try {\n    const {\n      data\n    } = await axios.get(`${API_URL}search/movie?`, {\n      params: {\n        api_key: API_KEY,\n        query: query\n      }\n    });\n    return {\n      data: data.results,\n      query: query\n    };\n  } catch (err) {\n    throw new Error(err[0]);\n  }\n};\n\nconst fetchMovieDetails = async id => {\n  const data = await axios.get(`${API_URL}movie/${id}`, {\n    params: {\n      api_key: API_KEY\n    }\n  });\n  return {\n    data: data.data\n  };\n}; // Helper functions\n\n\nconst adjustUrlForFilters = filter => {\n  if (filter === 'trending') {\n    return `${filter}/movie/day`;\n  }\n\n  return `movie/${filter}`;\n};\n\nexport default {\n  fetchMoviesByFilter,\n  fetchMoviesByKeyword,\n  fetchMovieDetails\n};","map":{"version":3,"sources":["/Users/milanblaz/Documents/Projects/vivant_movies/src/apis/movies-api.js"],"names":["axios","API_URL","API_KEY","fetchMoviesByFilter","page","filter","data","get","adjustUrlForFilters","params","api_key","results","numOfPages","total_pages","err","Error","fetchMoviesByKeyword","query","fetchMovieDetails","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,+BAAhB;AAAA,MACEC,OAAO,GAAG,kCADZ;;AAGA,MAAMC,mBAAmB,GAAG,OAAOC,IAAI,GAAG,CAAd,EAAiBC,MAAM,GAAG,SAA1B,KAAwC;AAClE,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMN,KAAK,CAACO,GAAN,CACpB,GAAEN,OAAQ,GAAEO,mBAAmB,CAACH,MAAD,CAAS,EADpB,EAErB;AACEI,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAER,OADH;AAENE,QAAAA;AAFM;AADV,KAFqB,CAAvB;AASA,WAAO;AACLE,MAAAA,IAAI,EAAEA,IAAI,CAACK,OADN;AAELC,MAAAA,UAAU,EAAEN,IAAI,CAACO;AAFZ,KAAP;AAID,GAdD,CAcE,OAAOC,GAAP,EAAY;AACZ,UAAM,IAAIC,KAAJ,CAAUD,GAAG,CAAC,CAAD,CAAb,CAAN;AACD;AACF,CAlBD;;AAoBA,MAAME,oBAAoB,GAAG,MAAMC,KAAN,IAAe;AAC1C,MAAI;AACF,UAAM;AAAEX,MAAAA;AAAF,QAAW,MAAMN,KAAK,CAACO,GAAN,CAAW,GAAEN,OAAQ,eAArB,EAAqC;AAC1DQ,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAER,OADH;AAENe,QAAAA,KAAK,EAAEA;AAFD;AADkD,KAArC,CAAvB;AAMA,WAAO;AACLX,MAAAA,IAAI,EAAEA,IAAI,CAACK,OADN;AAELM,MAAAA,KAAK,EAAEA;AAFF,KAAP;AAID,GAXD,CAWE,OAAOH,GAAP,EAAY;AACZ,UAAM,IAAIC,KAAJ,CAAUD,GAAG,CAAC,CAAD,CAAb,CAAN;AACD;AACF,CAfD;;AAiBA,MAAMI,iBAAiB,GAAG,MAAMC,EAAN,IAAY;AACpC,QAAMb,IAAI,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAW,GAAEN,OAAQ,SAAQkB,EAAG,EAAhC,EAAmC;AACpDV,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAER;AADH;AAD4C,GAAnC,CAAnB;AAKA,SAAO;AACLI,IAAAA,IAAI,EAAEA,IAAI,CAACA;AADN,GAAP;AAGD,CATD,C,CAWA;;;AACA,MAAME,mBAAmB,GAAGH,MAAM,IAAI;AACpC,MAAIA,MAAM,KAAK,UAAf,EAA2B;AACzB,WAAQ,GAAEA,MAAO,YAAjB;AACD;;AACD,SAAQ,SAAQA,MAAO,EAAvB;AACD,CALD;;AAOA,eAAe;AACbF,EAAAA,mBADa;AAEba,EAAAA,oBAFa;AAGbE,EAAAA;AAHa,CAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://api.themoviedb.org/3/',\n  API_KEY = '6b7007b9ce50c7ac58bb264563355724';\n\nconst fetchMoviesByFilter = async (page = 1, filter = 'popular') => {\n  try {\n    const { data } = await axios.get(\n      `${API_URL}${adjustUrlForFilters(filter)}`,\n      {\n        params: {\n          api_key: API_KEY,\n          page\n        }\n      }\n    );\n    return {\n      data: data.results,\n      numOfPages: data.total_pages\n    };\n  } catch (err) {\n    throw new Error(err[0]);\n  }\n};\n\nconst fetchMoviesByKeyword = async query => {\n  try {\n    const { data } = await axios.get(`${API_URL}search/movie?`, {\n      params: {\n        api_key: API_KEY,\n        query: query\n      }\n    });\n    return {\n      data: data.results,\n      query: query\n    };\n  } catch (err) {\n    throw new Error(err[0]);\n  }\n};\n\nconst fetchMovieDetails = async id => {\n  const data = await axios.get(`${API_URL}movie/${id}`, {\n    params: {\n      api_key: API_KEY\n    }\n  });\n  return {\n    data: data.data\n  };\n};\n\n// Helper functions\nconst adjustUrlForFilters = filter => {\n  if (filter === 'trending') {\n    return `${filter}/movie/day`;\n  }\n  return `movie/${filter}`;\n};\n\nexport default {\n  fetchMoviesByFilter,\n  fetchMoviesByKeyword,\n  fetchMovieDetails\n};\n"]},"metadata":{},"sourceType":"module"}