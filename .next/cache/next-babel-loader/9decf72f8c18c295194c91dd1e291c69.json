{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/milanblaz/Documents/Projects/vivant_movies/src/utils/MovieCardLoader/MovieCardLoader.js\";\nvar __jsx = React.createElement;\nimport './MovieCardLoader.scss';\nimport React, { Fragment } from 'react';\n\nclass MovieCardLoader extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_isMounted\", false);\n\n    _defineProperty(this, \"state\", {\n      isLoaded: false\n    });\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    const image = new Image();\n\n    image.onload = () => {\n      if (this._isMounted) {\n        this.setState({\n          isLoaded: true\n        });\n      }\n    };\n\n    image.src = this.props.src;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const {\n      src,\n      title,\n      year,\n      stars,\n      fetchMovieDetails,\n      id\n    } = this.props;\n    const {\n      isLoaded\n    } = this.state;\n    return isLoaded ? __jsx(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: src,\n      alt: \"movie_image\",\n      className: \"movie-card__img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"movie-card__overlay\",\n      onClick: () => fetchMovieDetails(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      className: \"movie-card__overlay__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, title), __jsx(\"span\", {\n      className: \"movie-card__overlay__year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, year), __jsx(\"span\", {\n      className: \"movie-card__overlay__popularity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, stars))) : __jsx(\"div\", {\n      className: \"movie-card__faker movie-card-loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"loader \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MovieCardLoader;","map":{"version":3,"sources":["/Users/milanblaz/Documents/Projects/vivant_movies/src/utils/MovieCardLoader/MovieCardLoader.js"],"names":["React","Fragment","MovieCardLoader","Component","isLoaded","componentDidMount","_isMounted","image","Image","onload","setState","src","props","componentWillUnmount","render","title","year","stars","fetchMovieDetails","id","state"],"mappings":";;;AAAA,OAAO,wBAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,MAAMC,eAAN,SAA8BF,KAAK,CAACG,SAApC,CAA8C;AAAA;AAAA;;AAAA,wCAE/B,KAF+B;;AAAA,mCAGpC;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAHoC;AAAA;;AAO5CC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,UAAL,GAAkB,IAAlB;AACA,UAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;;AACAD,IAAAA,KAAK,CAACE,MAAN,GAAe,MAAM;AACnB,UAAI,KAAKH,UAAT,EAAqB;AACnB,aAAKI,QAAL,CAAc;AAAEN,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACD;AACF,KAJD;;AAKAG,IAAAA,KAAK,CAACI,GAAN,GAAY,KAAKC,KAAL,CAAWD,GAAvB;AACD;;AAEDE,EAAAA,oBAAoB,GAAG;AACrB,SAAKP,UAAL,GAAkB,KAAlB;AACD;;AACDQ,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEH,MAAAA,GAAF;AAAOI,MAAAA,KAAP;AAAcC,MAAAA,IAAd;AAAoBC,MAAAA,KAApB;AAA2BC,MAAAA,iBAA3B;AAA8CC,MAAAA;AAA9C,QAAqD,KAAKP,KAAhE;AACA,UAAM;AAAER,MAAAA;AAAF,QAAe,KAAKgB,KAA1B;AAEA,WAAOhB,QAAQ,GACb,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAEO,GAAV;AAAe,MAAA,GAAG,EAAC,aAAnB;AAAiC,MAAA,SAAS,EAAC,iBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AACE,MAAA,SAAS,EAAC,qBADZ;AAEE,MAAA,OAAO,EAAE,MAAMO,iBAAiB,CAACC,EAAD,CAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4CJ,KAA5C,CAJF,EAKE;AAAM,MAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6CC,IAA7C,CALF,EAME;AAAM,MAAA,SAAS,EAAC,iCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmDC,KAAnD,CANF,CAFF,CADa,GAab;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAbF;AAiBD;;AA1C2C;;AA6C9C,eAAef,eAAf","sourcesContent":["import './MovieCardLoader.scss';\nimport React, { Fragment } from 'react';\n\nclass MovieCardLoader extends React.Component {\n  // used for unsubscribing async request\n  _isMounted = false;\n  state = {\n    isLoaded: false\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    const image = new Image();\n    image.onload = () => {\n      if (this._isMounted) {\n        this.setState({ isLoaded: true });\n      }\n    };\n    image.src = this.props.src;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n  render() {\n    const { src, title, year, stars, fetchMovieDetails, id } = this.props;\n    const { isLoaded } = this.state;\n\n    return isLoaded ? (\n      <Fragment>\n        <img src={src} alt=\"movie_image\" className=\"movie-card__img\" />\n        <div\n          className=\"movie-card__overlay\"\n          onClick={() => fetchMovieDetails(id)}\n        >\n          <h1 className=\"movie-card__overlay__title\">{title}</h1>\n          <span className=\"movie-card__overlay__year\">{year}</span>\n          <span className=\"movie-card__overlay__popularity\">{stars}</span>\n        </div>\n      </Fragment>\n    ) : (\n      <div className=\"movie-card__faker movie-card-loader\">\n        <div className=\"loader \"></div>\n      </div>\n    );\n  }\n}\n\nexport default MovieCardLoader;\n"]},"metadata":{},"sourceType":"module"}